[build]
# Default target for ESP32-S3
target = "xtensa-esp32s3-espidf"

# ESP32-S3 (Xtensa architecture) - DEFAULT
[target.xtensa-esp32s3-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"

[target.xtensa-esp32s3-espidf.env]
MCU = "esp32s3"

# ESP32-P4 (RISC-V architecture)
[target.riscv32imafc-esp-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"

[target.riscv32imafc-esp-espidf.env]
MCU = "esp32p4"

[env]
# ESP-IDF version (applies to all targets)
ESP_IDF_VERSION = "v5.3.3"
#
# Build commands:
#   ESP32-S3 (default): cargo build --release
#   ESP32-P4:           cargo build --target riscv32imafc-esp-espidf --release

[unstable]
build-std = ["std", "panic_abort"]
