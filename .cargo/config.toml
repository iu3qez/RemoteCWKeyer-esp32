[build]
# Default target for ESP32-S3
target = "xtensa-esp32s3-espidf"

# ESP32-S3 (Xtensa architecture)
[target.xtensa-esp32s3-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"
rustflags = ["--cfg", "espidf_time64"]

# ESP32-P4 (RISC-V architecture)
[target.riscv32imafc-esp-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"
rustflags = ["--cfg", "espidf_time64"]

[env]
MCU = "esp32s3"
# ESP-IDF is downloaded and managed by esp-idf-sys at build time
# Specify version to download
ESP_IDF_VERSION = { value = "v5.3", force = true }
#
# To build for ESP32-P4 instead, use:
# cargo build --target riscv32imafc-esp-espidf

[unstable]
build-std = ["std", "panic_abort"]
