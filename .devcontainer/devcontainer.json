{
	"name": "RustRemoteCWKeyer",
	"build": {
		"dockerfile": "Dockerfile",
		"args": {
			"CONTAINER_USER": "vscode",
			"CONTAINER_GROUP": "vscode",
			"ESP_BOARD": "esp32s3,esp32p4"
		}
	},
	"runArgs": [
		"--mount",
		"type=bind,source=/run/udev,target=/run/udev,readonly",
		"--device-cgroup-rule=c 188:* rmw",
		"--privileged"
	],
	"customizations": {
		"vscode": {
			"settings": {
				"editor.formatOnPaste": true,
				"editor.formatOnSave": true,
				"editor.formatOnSaveMode": "file",
				"editor.formatOnType": true,
				"lldb.executable": "/usr/bin/lldb",
				"files.watcherExclude": {
					"**/target/**": true
				},
				"rust-analyzer.checkOnSave.command": "clippy",
				"rust-analyzer.checkOnSave.allTargets": false,
				"[rust]": {
					"editor.defaultFormatter": "rust-lang.rust-analyzer"
				}
			},
			"extensions": [
				"rust-lang.rust-analyzer",
				"tamasfe.even-better-toml",
				"serayuzgur.crates",
				"mutantdino.resourcemonitor",
				"yzhang.markdown-all-in-one",
				"ms-vscode.cpptools",
				"actboy168.tasks",
				"Wokwi.wokwi-vscode",
				"Anthropic.claude-code"
			]
		}
	},
	"forwardPorts": [
		3333,
		8000
	],
	"mounts": [
		"source=${localEnv:HOME}/.claude,target=/home/vscode/.claude,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.claude.json,target=/home/vscode/.claude.json,type=bind,consistency=cached",
		"source=rust-remote-cw-keyer-embuild-cache,target=/workspaces/RustRemoteCWKeyer/.embuild,type=volume",
		"source=rust-remote-cw-keyer-target-cache,target=/workspaces/RustRemoteCWKeyer/target,type=volume"
	],
	"postCreateCommand": "sudo chown -R vscode:vscode /workspaces/RustRemoteCWKeyer/.embuild /workspaces/RustRemoteCWKeyer/target || true",
	"postStartCommand": "sudo usermod -a -G dialout vscode 2>/dev/null || true",
	"remoteUser": "vscode"
}
